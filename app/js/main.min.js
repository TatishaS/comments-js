"use strict";const form=document.querySelector(".form"),inputName=form.querySelector(".form__input--name"),inputDate=form.querySelector(".form__input--date"),inputTextarea=form.querySelector(".form__input--textarea"),formBtn=form.querySelector(".form__btn"),commentsInner=document.querySelector(".comments__inner"),nameField=document.getElementById("name-field"),textareaField=document.getElementById("textarea-field"),commentsList=document.getElementById("comments-list"),commentDate=document.querySelector(".comment__date");let comments=[{name:"Раиса",content:"Первый коммент",date:1678812066210},{name:"Федор",content:"Второй",date:1678812066890},{name:"Заяц",content:"Третий коммент",date:1648822656775},{name:"Волк",content:"Четвертый коммент",date:1678802656775}];const dateOptions={month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},patternDay=1678812066210,formatDate=e=>{const t=(n=new Date,a=e,Math.round(Math.abs(a-n)/864e5));var n,a;if(0===t){const t=new Intl.DateTimeFormat("ru-RU",{hour:"2-digit",minute:"2-digit"}).format(e);return console.log(`сегодня, ${t}`),`сегодня, ${t}`}if(1===t){return`вчера, ${new Intl.DateTimeFormat("ru-RU",{hour:"2-digit",minute:"2-digit"}).format(e)}`}return new Intl.DateTimeFormat("ru-RU",dateOptions).format(e)},createComment=e=>{const t=document.createElement("li");t.classList.add("comment");let n="";return e||(commentsInner.innerHTML='<p style="font-style: italic">Комментариев еще нет</p>'),e&&(n=`\n  <div class="comment__wrapper">\n                    <div class="comment__header">\n                      <span class="comment__name">${e.name}</span>\n                      <span class="comment__divider"></span>\n                      <span class="comment__date">${formatDate(e.date)}</span>\n                    </div>\n                    <p class="comment__content">\n                      ${e.content}\n                    </p>\n                    <div class="comment__footer">\n                      <input\n                        type="checkbox"\n                        class="comment__like-input visually-hidden"\n                        id=like-${e.date}\n                       \n                      />\n                      <label\n                        for=like-${e.date}\n                        class="comment__like-label"\n                        aria-label="Нравится"\n                      >\n                        <svg\n                          class="comment__like-icon"\n                          xmlns="http://www.w3.org/2000/svg"\n                          height="20"\n                          width="20"\n                          viewBox="0 0 48 48"\n                        >\n                          <path\n                            d="m24 41.95-2.05-1.85q-5.3-4.85-8.75-8.375-3.45-3.525-5.5-6.3T4.825 20.4Q4 18.15 4 15.85q0-4.5 3.025-7.525Q10.05 5.3 14.5 5.3q2.85 0 5.275 1.35Q22.2 8 24 10.55q2.1-2.7 4.45-3.975T33.5 5.3q4.45 0 7.475 3.025Q44 11.35 44 15.85q0 2.3-.825 4.55T40.3 25.425q-2.05 2.775-5.5 6.3T26.05 40.1ZM24 38q5.05-4.65 8.325-7.975 3.275-3.325 5.2-5.825 1.925-2.5 2.7-4.45.775-1.95.775-3.9 0-3.3-2.1-5.425T33.5 8.3q-2.55 0-4.75 1.575T25.2 14.3h-2.45q-1.3-2.8-3.5-4.4-2.2-1.6-4.75-1.6-3.3 0-5.4 2.125Q7 12.55 7 15.85q0 1.95.775 3.925.775 1.975 2.7 4.5Q12.4 26.8 15.7 30.1 19 33.4 24 38Zm0-14.85Z"\n                          />\n                        </svg>\n                      </label>\n                      <button class="comment__delete-btn" type="submit">\n                        <img\n                          src="./images/icon-delete.svg"\n                          alt="Удалить комментарий"\n                          class="comment__delete-img"\n                          width="20"\n                          height="20"\n                        />\n                      </button>\n                    </div>\n                  </div>\n                  `),t.insertAdjacentHTML("beforeend",n),t},renderComments=e=>{console.log(e),commentsList.textContent="",0===e.length&&(commentsInner.innerHTML='<p style="font-style: italic">Комментариев еще нет</p>'),e?.sort(((e,t)=>t.date-e.date)).map((e=>{const t=createComment(e);commentsList.append(t)}))},clearInputs=()=>{inputName.value="",inputTextarea.value="",inputDate.value=""};formatDate(1678812066210),renderComments(comments);const renderAlertMessage=(e,t)=>{let n="",a=document.createElement("span");a.classList.add("alert"),console.log(a),n=t,a.innerText=t,e.appendChild(a),inputName.addEventListener("change",(()=>{console.log("меняется"),a&&a.remove()}))},clearAlert=e=>{};form.addEventListener("submit",(e=>{e.preventDefault();const t=inputName.value,n=inputTextarea.value,a=inputDate.value?inputDate.valueAsNumber:Date.now();if(t){if(n||(console.log(textareaField),renderAlertMessage(textareaField,"Заполните поле комментария!")),t&&n){const e={name:t,content:n,date:a};comments.push(e),renderComments(comments),inputName.value="",inputTextarea.value="",inputDate.value=""}}else renderAlertMessage(nameField,"Заполните имя!")}));